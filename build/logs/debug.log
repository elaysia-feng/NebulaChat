2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=0 raw=0x639ab7993dc0
2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=1 raw=0x639ab7a999c0
2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=2 raw=0x639ab7ab14f0
2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=3 raw=0x639ab7ac81d0
2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=4 raw=0x639ab7adec30
2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=5 raw=0x639ab7af56b0
2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=6 raw=0x639ab7b0c130
2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=7 raw=0x639ab7b22bb0
2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=8 raw=0x639ab7b38dc0
2025-11-16 14:17:20 | DEBUG | [DBPool::init] created connection index=9 raw=0x639ab7b4eaf0
2025-11-16 14:17:20 | DEBUG | [ThreadPool::run] worker 0 started, id=136597349594688
2025-11-16 14:17:20 | DEBUG | [ThreadPool::run] worker 1 started, id=136597341201984
2025-11-16 14:17:20 | DEBUG | [ThreadPool::run] worker 2 started, id=136597332809280
2025-11-16 14:17:20 | DEBUG | [ThreadPool::run] worker 3 started, id=136597324416576
2025-11-16 14:17:20 | DEBUG | [Reactor::addFd] fd=19 events=0x1 useET=true
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=19 events=0x1 user=0
2025-11-16 14:18:15 | DEBUG | [Server::onEvent] EPOLLIN on listenFd_, accepting new connections
2025-11-16 14:18:15 | DEBUG | [Reactor::addFd] fd=20 events=0x1 useET=true
2025-11-16 14:18:15 | DEBUG | [Server::onAccept] no more clients to accept (EAGAIN/EWOULDBLOCK)
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read 53 bytes, inbuf size=53
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "register", "user": "Elias", "pass": "1234"}
2025-11-16 14:18:15 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:18:15 | DEBUG | [ThreadPool::RunPool] worker 136597332809280 got one task
2025-11-16 14:18:15 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "register", "user": "Elias", "pass": "1234"}
2025-11-16 14:18:15 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7993dc0
2025-11-16 14:18:15 | DEBUG | [AuthService::Register] check SQL = SELECT id FROM users WHERE username = 'Elias' LIMIT 1
2025-11-16 14:18:15 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' LIMIT 1
2025-11-16 14:18:15 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:18:15 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7993dc0
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 append 37 bytes to outbuf
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:18:15 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 wrote 37 bytes, left=0
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:18:15 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read 50 bytes, inbuf size=50
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:18:15 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:18:15 | DEBUG | [ThreadPool::RunPool] worker 136597324416576 got one task
2025-11-16 14:18:15 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:18:15 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7a999c0
2025-11-16 14:18:15 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:18:15 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:18:15 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:18:15 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7a999c0
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 append 34 bytes to outbuf
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:18:15 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 wrote 34 bytes, left=0
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:18:15 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read 34 bytes, inbuf size=34
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "echo", "msg": "hello^^"}
2025-11-16 14:18:15 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:18:15 | DEBUG | [ThreadPool::RunPool] worker 136597341201984 got one task
2025-11-16 14:18:15 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "echo", "msg": "hello^^"}
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 append 29 bytes to outbuf
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:18:15 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 wrote 29 bytes, left=0
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:18:15 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read 35 bytes, inbuf size=35
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "upper", "msg": "abcdefg"}
2025-11-16 14:18:15 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:18:15 | DEBUG | [ThreadPool::RunPool] worker 136597349594688 got one task
2025-11-16 14:18:15 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "upper", "msg": "abcdefg"}
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 append 29 bytes to outbuf
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:18:15 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 wrote 29 bytes, left=0
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:18:15 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read 16 bytes, inbuf size=16
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:18:15 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "quit"}
2025-11-16 14:18:15 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:18:15 | DEBUG | [ThreadPool::RunPool] worker 136597341201984 got one task
2025-11-16 14:18:15 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "quit"}
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 append 38 bytes to outbuf
2025-11-16 14:18:15 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:18:15 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 wrote 38 bytes, left=0
2025-11-16 14:18:15 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:18:15 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:18:15 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:18:15 | DEBUG | [Server::worker] fd=20 marked shortClose=true (will close after write)
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:18:15 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=19 events=0x1 user=0
2025-11-16 14:21:20 | DEBUG | [Server::onEvent] EPOLLIN on listenFd_, accepting new connections
2025-11-16 14:21:20 | DEBUG | [Reactor::addFd] fd=20 events=0x1 useET=true
2025-11-16 14:21:20 | DEBUG | [Server::onAccept] no more clients to accept (EAGAIN/EWOULDBLOCK)
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read 54 bytes, inbuf size=54
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "register", "user": "seele", "pass": "seele"}
2025-11-16 14:21:20 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:21:20 | DEBUG | [ThreadPool::RunPool] worker 136597324416576 got one task
2025-11-16 14:21:20 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "register", "user": "seele", "pass": "seele"}
2025-11-16 14:21:20 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7ab14f0
2025-11-16 14:21:20 | DEBUG | [AuthService::Register] check SQL = SELECT id FROM users WHERE username = 'seele' LIMIT 1
2025-11-16 14:21:20 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'seele' LIMIT 1
2025-11-16 14:21:20 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:21:20 | DEBUG | [AuthService::Register] insert SQL = INSERT INTO users(username, password) VALUES('seele', 'seele')
2025-11-16 14:21:20 | DEBUG | [DBconnection::update] SQL: INSERT INTO users(username, password) VALUES('seele', 'seele')
2025-11-16 14:21:20 | DEBUG | [AuthService::Register] select SQL = SELECT id FROM users WHERE username = 'seele' LIMIT 1
2025-11-16 14:21:20 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'seele' LIMIT 1
2025-11-16 14:21:20 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:21:20 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7ab14f0
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 append 63 bytes to outbuf
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:21:20 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:21:20 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=20 wrote 63 bytes, left=0
2025-11-16 14:21:20 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:21:20 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read 50 bytes, inbuf size=50
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:21:20 | DEBUG | [ThreadPool::RunPool] worker 136597332809280 got one task
2025-11-16 14:21:20 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:21:20 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7ac81d0
2025-11-16 14:21:20 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:21:20 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:21:20 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:21:20 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:21:20 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7ac81d0
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 append 34 bytes to outbuf
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:21:20 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:21:20 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=20 wrote 34 bytes, left=0
2025-11-16 14:21:20 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:21:20 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read 34 bytes, inbuf size=34
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "echo", "msg": "hello^^"}
2025-11-16 14:21:20 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:21:20 | DEBUG | [ThreadPool::RunPool] worker 136597349594688 got one task
2025-11-16 14:21:20 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "echo", "msg": "hello^^"}
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 append 29 bytes to outbuf
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:21:20 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:21:20 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=20 wrote 29 bytes, left=0
2025-11-16 14:21:20 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:21:20 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read 35 bytes, inbuf size=35
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "upper", "msg": "abcdefg"}
2025-11-16 14:21:20 | DEBUG | [ThreadPool::RunPool] worker 136597341201984 got one task
2025-11-16 14:21:20 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:21:20 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "upper", "msg": "abcdefg"}
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 append 29 bytes to outbuf
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:21:20 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=20 wrote 29 bytes, left=0
2025-11-16 14:21:20 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:21:20 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read 16 bytes, inbuf size=16
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:21:20 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "quit"}
2025-11-16 14:21:20 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:21:20 | DEBUG | [ThreadPool::RunPool] worker 136597324416576 got one task
2025-11-16 14:21:20 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "quit"}
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 append 38 bytes to outbuf
2025-11-16 14:21:20 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:21:20 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:21:20 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:21:20 | DEBUG | [Server::worker] fd=20 marked shortClose=true (will close after write)
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=20 wrote 38 bytes, left=0
2025-11-16 14:21:20 | DEBUG | [Server::onConnWrite] fd=-1910659069 write finished, disable EPOLLOUT
2025-11-16 14:21:20 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:21:20 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:21:58 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:21:58 | DEBUG | [Reactor::loop] dispatch fd=19 events=0x1 user=0
2025-11-16 14:21:58 | DEBUG | [Server::onEvent] EPOLLIN on listenFd_, accepting new connections
2025-11-16 14:21:58 | DEBUG | [Reactor::addFd] fd=20 events=0x1 useET=true
2025-11-16 14:21:58 | DEBUG | [Server::onAccept] no more clients to accept (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:04 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:04 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:22:04 | DEBUG | [Server::onConnRead] fd=20 read 16 bytes, inbuf size=16
2025-11-16 14:22:04 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:04 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "quit"}
2025-11-16 14:22:04 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:04 | DEBUG | [ThreadPool::RunPool] worker 136597332809280 got one task
2025-11-16 14:22:04 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "quit"}
2025-11-16 14:22:04 | DEBUG | [Server::postWrite] fd=20 append 40 bytes to outbuf
2025-11-16 14:22:04 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:04 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:22:04 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:04 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:04 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:22:04 | DEBUG | [Server::onConnWrite] fd=20 wrote 40 bytes, left=0
2025-11-16 14:22:04 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:22:04 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:22:04 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:04 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:04 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:22:04 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:04 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=19 events=0x1 user=0
2025-11-16 14:22:09 | DEBUG | [Server::onEvent] EPOLLIN on listenFd_, accepting new connections
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=20 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=21 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onAccept] no more clients to accept (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=19 events=0x1 user=0
2025-11-16 14:22:09 | DEBUG | [Server::onEvent] EPOLLIN on listenFd_, accepting new connections
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=22 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onAccept] no more clients to accept (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=3 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=19 events=0x1 user=0
2025-11-16 14:22:09 | DEBUG | [Server::onEvent] EPOLLIN on listenFd_, accepting new connections
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=23 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onAccept] no more clients to accept (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=20 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=22 events=0x1 user=0x639ab7b64ef0
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=22 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=22 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=22 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597349594688 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7adec30
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597324416576 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=22 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7af56b0
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7adec30
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=20 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=3 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=23 events=0x1 user=0x639ab79b1380
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=23 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=23 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=23 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=20 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:09 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597341201984 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=23 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7af56b0
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7b0c130
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=22 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=22 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=22 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=4 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=19 events=0x1 user=0
2025-11-16 14:22:09 | DEBUG | [Server::onEvent] EPOLLIN on listenFd_, accepting new connections
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=24 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onAccept] no more clients to accept (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=22 events=0x4 user=0x639ab7b64ef0
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=22 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=22 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=22 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:09 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=20 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=20 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=20 got one line: {"cmd": "echo", "msg": "hello-0-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=21 events=0x1 user=0x639ab7b6d360
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=21 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=21 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=21 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7b0c130
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597349594688 got one task
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597332809280 got one task
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=23 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=23 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=23 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=22 events=0x1 user=0x639ab7b64ef0
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=22 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=22 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=22 got one line: {"cmd": "echo", "msg": "hello-3-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=23 events=0x4 user=0x639ab79b1380
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=23 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=23 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=23 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:09 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=20 content: {"cmd": "echo", "msg": "hello-0-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=20 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=20 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=20 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597349594688 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=22 content: {"cmd": "echo", "msg": "hello-3-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=22 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=22 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=22 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=21 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7b22bb0
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=5 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x4 user=0x639ab7b63b40
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=20 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=20 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=20 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:09 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=2
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=19 events=0x1 user=0
2025-11-16 14:22:09 | DEBUG | [Server::onEvent] EPOLLIN on listenFd_, accepting new connections
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=25 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=26 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onAccept] no more clients to accept (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=22 events=0x4 user=0x639ab7b64ef0
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=22 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=22 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=22 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=24 events=0x1 user=0x639ab79b1540
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=24 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=24 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=24 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=23 events=0x1 user=0x639ab79b1380
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=23 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=23 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=23 got one line: {"cmd": "echo", "msg": "hello-2-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=26 events=0x1 user=0x639ab79b1990
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=26 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=26 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=26 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597349594688 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=24 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7b38dc0
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597341201984 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=23 content: {"cmd": "echo", "msg": "hello-2-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=23 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597324416576 got one task
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7b22bb0
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=25 events=0x1 user=0x639ab79b18d0
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=23 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=23 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=21 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=21 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=21 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=25 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=25 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=25 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=4 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=19 events=0x1 user=0
2025-11-16 14:22:09 | DEBUG | [Server::onEvent] EPOLLIN on listenFd_, accepting new connections
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597341201984 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=25 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7b4eaf0
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=27 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=26 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7993dc0
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7b38dc0
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=28 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=24 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=24 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=24 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7b4eaf0
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=25 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=25 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=25 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [Reactor::addFd] fd=29 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onAccept] no more clients to accept (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=23 events=0x4 user=0x639ab79b1380
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=23 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=23 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=23 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:09 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=4
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=21 events=0x4 user=0x639ab7b6d360
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=21 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=21 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=21 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=5 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=27 events=0x1 user=0x639ab79b1b10
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=27 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=27 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=27 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597332809280 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=27 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7a999c0
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=28 events=0x1 user=0x639ab79b1bd0
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=28 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=28 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=28 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=24 events=0x4 user=0x639ab79b1540
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597349594688 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=28 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7ab14f0
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7ab14f0
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=28 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=28 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=28 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7993dc0
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=26 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=26 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=26 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7a999c0
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=27 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=27 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=27 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=24 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=24 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=24 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=25 events=0x4 user=0x639ab79b18d0
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=25 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=25 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=25 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=29 events=0x1 user=0x639ab79b1c90
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=29 read 50 bytes, inbuf size=50
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=29 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=29 got one line: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=6 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=21 events=0x1 user=0x639ab7b6d360
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=21 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=21 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=21 got one line: {"cmd": "echo", "msg": "hello-1-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=24 events=0x1 user=0x639ab79b1540
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=24 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=24 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=24 got one line: {"cmd": "echo", "msg": "hello-4-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=28 events=0x4 user=0x639ab79b1bd0
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=28 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=28 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=28 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:09 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=3
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=26 events=0x4 user=0x639ab79b1990
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=26 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=26 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=26 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=27 events=0x4 user=0x639ab79b1b10
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=27 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=27 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=27 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597341201984 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=29 content: {"cmd": "login", "user": "Elias", "pass": "1234"}
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] got connection from pool, raw=0x639ab7ac81d0
2025-11-16 14:22:09 | DEBUG | [AuthService::login] SQL = SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] SQL: SELECT id FROM users WHERE username = 'Elias' AND password = '1234' LIMIT 1
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597349594688 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=21 content: {"cmd": "echo", "msg": "hello-1-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=21 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=21 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=21 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597349594688 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=24 content: {"cmd": "echo", "msg": "hello-4-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=24 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=24 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=24 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=7 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=28 events=0x1 user=0x639ab79b1bd0
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=28 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=28 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=28 got one line: {"cmd": "echo", "msg": "hello-9-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=27 events=0x1 user=0x639ab79b1b10
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=27 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=27 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=27 got one line: {"cmd": "echo", "msg": "hello-7-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=25 events=0x1 user=0x639ab79b18d0
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=25 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=25 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=25 got one line: {"cmd": "echo", "msg": "hello-6-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597332809280 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=28 content: {"cmd": "echo", "msg": "hello-9-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=28 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=28 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=28 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597332809280 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=25 content: {"cmd": "echo", "msg": "hello-6-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=25 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=25 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=25 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597324416576 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=27 content: {"cmd": "echo", "msg": "hello-7-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=27 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=27 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=27 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [DBconnection::query] query OK, has result set
2025-11-16 14:22:09 | DEBUG | [DBPool::getConnection] return connection to pool, raw=0x639ab7ac81d0
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=29 append 34 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=29 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=29 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=26 events=0x1 user=0x639ab79b1990
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=26 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=26 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=26 got one line: {"cmd": "echo", "msg": "hello-5-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=21 events=0x4 user=0x639ab7b6d360
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=21 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=21 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=21 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:09 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=6
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=24 events=0x4 user=0x639ab79b1540
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=24 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=24 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=24 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=4 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=28 events=0x4 user=0x639ab79b1bd0
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597332809280 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=26 content: {"cmd": "echo", "msg": "hello-5-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=26 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=26 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=26 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=28 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=28 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=28 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=25 events=0x4 user=0x639ab79b18d0
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=25 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=25 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=25 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=27 events=0x4 user=0x639ab79b1b10
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=27 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=27 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=27 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=29 events=0x4 user=0x639ab79b1c90
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=29 wrote 34 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=29 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=29 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=26 events=0x4 user=0x639ab79b1990
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=26 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=26 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=26 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:09 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=29 events=0x1 user=0x639ab79b1c90
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=29 read 36 bytes, inbuf size=36
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=29 read all data (EAGAIN/EWOULDBLOCK)
2025-11-16 14:22:09 | DEBUG | [Server::onConnRead] fd=29 got one line: {"cmd": "echo", "msg": "hello-8-0"}
2025-11-16 14:22:09 | DEBUG | [ThreadPool::RunPool] worker 136597324416576 got one task
2025-11-16 14:22:09 | DEBUG | [Server::worker] handling line for fd=29 content: {"cmd": "echo", "msg": "hello-8-0"}
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=29 append 31 bytes to outbuf
2025-11-16 14:22:09 | DEBUG | [Server::postWrite] fd=29 enable EPOLLOUT and wakeup reactor
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=29 events=0x5 useET=true
2025-11-16 14:22:09 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:09 | DEBUG | [ThreadPool::Enqueue] task enqueued
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] epoll_wait returns n=2 events
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] dispatch fd=29 events=0x4 user=0x639ab79b1c90
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=29 wrote 31 bytes, left=0
2025-11-16 14:22:09 | DEBUG | [Reactor::modFd] fd=29 events=0x1 useET=true
2025-11-16 14:22:09 | DEBUG | [Server::onConnWrite] fd=29 write finished, disable EPOLLOUT
2025-11-16 14:22:09 | DEBUG | [Reactor::loop] got wakeup event on evfd_=18 events=0x1
2025-11-16 14:22:09 | DEBUG | [Reactor::DrainEvent] drained eventfd=18 counter=1
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] epoll_wait returns n=1 events
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=29 events=0x1 user=0x639ab79b1c90
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] epoll_wait returns n=9 events
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=28 events=0x1 user=0x639ab79b1bd0
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=27 events=0x1 user=0x639ab79b1b10
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=26 events=0x1 user=0x639ab79b1990
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=25 events=0x1 user=0x639ab79b18d0
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=24 events=0x1 user=0x639ab79b1540
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=23 events=0x1 user=0x639ab79b1380
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=22 events=0x1 user=0x639ab7b64ef0
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=21 events=0x1 user=0x639ab7b6d360
2025-11-16 14:22:29 | DEBUG | [Reactor::loop] dispatch fd=20 events=0x1 user=0x639ab7b63b40
2025-11-16 14:22:37 | DEBUG | [Reactor::wakeup] wakeup sent to evfd_=18
2025-11-16 14:22:37 | DEBUG | [Reactor::loop] epoll_wait interrupted by signal, retry
2025-11-16 14:22:37 | DEBUG | [ThreadPool::~ThreadPool] joining worker thread 136597349594688
2025-11-16 14:22:37 | DEBUG | [ThreadPool::~ThreadPool] joining worker thread 136597341201984
2025-11-16 14:22:37 | DEBUG | [ThreadPool::~ThreadPool] joining worker thread 136597332809280
2025-11-16 14:22:37 | DEBUG | [ThreadPool::~ThreadPool] joining worker thread 136597324416576
2025-11-16 14:22:37 | DEBUG | [Reactor::stop] already stopped (running_ was false)
